<mat-toolbar color="primary" class="navbar">

  <!-- Logo -->
  <h2 class="logo" routerLink="/">Bebito</h2>


  <!-- Menu -->
  <div class="menu-pcp">

    <!-- menu button  first-->
    <div class="menu-first">
        <button mat-button 
          (click)="goToAcceuil()" 
          class="boutton"
          [class.active-link]="pageActive === 'accueil'"
          >
            <mat-icon>home</mat-icon> Accueil
        </button>

        <button mat-button 
          (click)="goToProduitList()" 
          class="boutton"
          [class.active-link]="pageActive === 'boutique'"
          >
            <mat-icon>store</mat-icon> Boutique
        </button>

        <!-- Icône panier avec compteur -->
        <button mat-button 
          (click)="goToPannier()"
          class="boutton"  
          [matBadge]="nombreProduits$ | async"
          matBadgeColor="accent"
          [class.active-link]="pageActive === 'panier'"
          >
            <mat-icon class="btn-icon">shopping_cart</mat-icon> Panier
        </button>
    </div>

    <!-- menu second -->
    <div class="menu-second">
      @if (authService.isLoggedIn$ | async) {
        <button (click)="onLogout()" class="boutton">Déconnexion</button>
      } @else {
        <button mat-button 
          (click)="goToConnexion()" 
          class="boutton"
          [class.active-link]="pageActive === 'connexion'"
          >
            <mat-icon>account_circle</mat-icon> Connexion
        </button>
      }
    </div>

    <!-- menu mobile -->
    <button mat-icon-button [matMenuTriggerFor]="mobileMenu" class="btn-mobile">
      <mat-icon>menu</mat-icon>
    </button>

  </div>

  <mat-menu #mobileMenu="matMenu">
    <button mat-menu-item (click)="goToAcceuil()">
      <mat-icon>home</mat-icon> Accueil
    </button>
    <button mat-menu-item (click)="goToProduitList()">
      <mat-icon>store</mat-icon> Boutique
    </button>
    <button mat-menu-item (click)="goToPannier()">
      <mat-icon [matBadge]="nombreProduits$ | async" matBadgeColor="accent">shopping_cart</mat-icon> Panier
    </button>
    <mat-divider></mat-divider>

    @if (authService.isLoggedIn$ | async) {
      <button mat-menu-item (click)="onLogout()">
      <mat-icon>account_circle</mat-icon> Deconnexion
    </button>
    } @else {
      <button mat-menu-item (click)="goToConnexion()">
      <mat-icon>account_circle</mat-icon> Connexion
    </button>
    }
  </mat-menu>

</mat-toolbar>
